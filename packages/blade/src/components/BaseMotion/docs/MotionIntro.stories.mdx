import { Meta, Story } from '@storybook/addon-docs';
import {
  Alert,
  StepGroup,
  StepItem,
  List,
  ListItem,
  ListItemText,
  ListItemLink,
  Text,
  InfoIcon,
  Tooltip,
  TooltipInteractiveWrapper,
  Accordion,
  AccordionItem,
  AccordionItemHeader,
  AccordionItemBody,
  Heading,
  Tabs,
  TabList,
  TabItem,
  TabPanel,
  Box,
  Link,
  Move,
  Display,
  Divider,
} from '../../index';
import MotionInstallation from './MotionInstallation.mdx';
import { Sandbox } from '../../../utils/storybook/Sandbox';
import { Motion as MotionTokensTable } from '../../../../docs/tokens/Motion.stories.mdx';

import { Showcase } from './MotionIntroUtils';
import {
  FadeSandbox,
  MoveSandbox,
  SlideSandbox,
  ScaleSandbox,
  MorphSandbox,
  AnimateInteractionsSandbox,
  StaggerSandbox,
} from './codeExamples';

<Meta title="Motion/Introduction to Motion" />

<Move>
  <Box>

<Display>Introduction to Motion Presets at Razorpay</Display>

[Motion Presets RFC](https://github.com/razorpay/blade/blob/master/rfcs/2024-08-21-motion-presets.md)

We offer several easy-to-use motion presets to simplify integrating motion in your projects. This doc is one-stop documentation for everything related to motion presets. Checkout stories of individual motion components from storybook's sidebar to learn in details about each preset.

<Showcase />

<Box marginTop="spacing.8" marginBottom="spacing.5">
  <Heading size="2xlarge">Motion React Installation and Setup üìö</Heading>
</Box>

<Alert
  title="Note"
  description="If you've followed Step 3 from our Installation Guide and already have Motion React setup, you can skip this-"
  isFullWidth
  isDismissible={false}
  marginBottom="spacing.5"
/>

<Accordion maxWidth="100%" variant="filled" marginBottom="spacing.8">
  <AccordionItem>
    <AccordionItemHeader title="Setting Up Motion React" />
    <AccordionItemBody>
      <MotionInstallation />
    </AccordionItemBody>
  </AccordionItem>
</Accordion>

<Box marginTop="spacing.11" marginBottom="spacing.8">
  <Heading size="2xlarge">Motion Preset Components ‚ú®</Heading>
</Box>

<Box id="fade">
  <Heading size="large">1. Fade</Heading>
  <Text marginTop="spacing.1">
    The Fade component is a motion preset that animates the opacity of its children, allowing them to smoothly appear or disappear. It ensures seamless transitions while keeping the UI visually engaging.
  </Text>

  <FadeSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Fade Documentation](/?path=/docs/motion-fade--docs)</p>
</Box>

<Box id="move">
  <Heading size="large">2. Move</Heading>
  <Text marginTop="spacing.1">
    The Move component is a motion preset that animates the opacity and position of its children,
    allowing them to smoothly appear or disappear. It ensures seamless transitions while keeping the
    UI visually engaging.
  </Text>
  <MoveSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Move Documentation](/?path=/docs/motion-move--docs)</p>
</Box>

<Box id="move">
  <Heading size="large">3. Slide</Heading>
  <Text marginTop="spacing.1">
    The Slide component is a motion preset that animates the children by sliding them in from
    outside of viewport, allowing them to smoothly appear or disappear. Unlike Move, Slide is meant
    to animate components from outside of viewport
  </Text>
  <SlideSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Slide Documentation](/?path=/docs/motion-slide--docs)</p>
</Box>

<Box id="scale">
  <Heading size="large">4. Scale</Heading>
  <Text marginTop="spacing.1">
    Scale component animates over CSS `scale` property and allows you to enlarge or shrink element
    on certain interactions
  </Text>
  <ScaleSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Scale Documentation](/?path=/docs/motion-scale--docs)</p>
</Box>

<Box id="morph">
  <Heading size="large">5. Morph</Heading>
  <Text marginTop="spacing.1">
    Morph component is a abstraction on motion react's layout animations. It allows you to morph
    between 2 elements
  </Text>
  <MorphSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Morph Documentation](/?path=/docs/motion-morph--docs)</p>
</Box>

<Box id="animateinteractions">
  <Heading size="large">6. AnimateInteractions</Heading>
  <Text marginTop="spacing.1">
    AnimateInteractions is a component that allows you to animate child components based on
    interactions on parent. This is similar to doing `.parent:hover .child {}` styling in CSS.
  </Text>
  <AnimateInteractionsSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">
    [View AnimateInterations Documentation](/?path=/docs/motion-animateinteractions--docs)
  </p>
</Box>

<Box id="stagger">
  <Heading size="large">7. Stagger</Heading>
  <Text marginTop="spacing.1">
    Stagger component allows you to stagger children (make them appear one after the other). Its a
    utility preset. You can use any of the base presets like Move, Fade, Slide inside of it
  </Text>
  <StaggerSandbox padding={['spacing.4', 'spacing.0']} />
  <p align="right">[View Stagger Documentation](/?path=/docs/motion-stagger--docs)</p>
</Box>

<Box marginTop="spacing.11" marginBottom="spacing.8">
  <Heading size="2xlarge">Motion Tokens üèóÔ∏è</Heading>
</Box>

<MotionTokensTable />

Checkout [Tokens - Motion](/?path=/docs/tokens-motion--docs) for full documentation on motion tokens

<Divider />

You can learn more about each preset by checking individual documentation from storybook's sidebar. Razorpay employees can reach out to us on #design-system channel for any help. Checkout [Recipes](/?path=/story/motion-recipes) for more usecase level examples of motion.

<Box marginTop="spacing.11" marginBottom="spacing.8">
  <Heading size="2xlarge">Migration from Blade v11 to v12</Heading>
</Box>

TODO:

<Heading size="xlarge">Changes</Heading>

- Token Changes
- Motion React Setup (previously known as Framer Motion)

## Migration with Codemod

**Step 1:** Install this version of Blade as `yarn add @razorpay/blade-rebranded@npm:@razorpay/blade@v11.0.0`.

**Step 2:** Install new fonts (Inter & Tasa) by following [this file](https://blade.razorpay.com/?path=/docs/guides-installation--docs#-installing-fonts).

**Step 3:** The codemod will update the components to the new version of Blade. Execute the codemod on the file/directory that needs to be migrated for the page via the following command:

> Need help? Check out [jscodeshift docs](https://github.com/facebook/jscodeshift) for CLI usage tips.

```sh
npx jscodeshift ./PATH_TO_YOUR_DIR --extensions=tsx,ts,jsx,js -t ./node_modules/@razorpay/blade-rebranded/codemods/brand-refresh/transformers/index.ts --ignore-pattern="**/node_modules/**"
```

theme.motion.easing.entrance.effective -> theme.motion.easing.entrance
theme.motion.easing.standard.effective -> theme.motion.easing.standard
theme.motion.easing.exit.effective -> theme.motion.easing.exit
theme.motion.easing.entrance.revealing -> theme.motion.easing.entrance
theme.motion.easing.standard.revealing -> theme.motion.easing.emphasized
theme.motion.easing.exit.revealing -> theme.motion.easing.exit
theme.motion.easing.entrance.attentive -> theme.motion.easing.overshoot
theme.motion.easing.exit.attentive -> theme.motion.easing.exit
theme.motion.easing.standard.wary -> theme.motion.easing.shake

  </Box>
</Move>
