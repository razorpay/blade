<link
  href="https://pkg.csb.dev/razorpay/blade/commit/09774406/@razorpay/blade/fonts.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/katorlys/prism-theme-github/themes/prism-theme-github-light.css"
/>
<link
  rel="icon"
  href="https://raw.githubusercontent.com/razorpay/blade/1e77f0b35172654037a431a916b3190b545fd232/branding/favicon.ico"
/>

<style>
  /* Banner styles */
  .storybook-banner {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 10000 !important;
    background: linear-gradient(90deg, #ff6b6b, #4ecdc4) !important;
    color: white !important;
    padding: 8px 16px !important;
    text-align: center !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif !important;
    margin: 0 !important;
    border: none !important;
  }

  .storybook-banner-close {
    position: absolute !important;
    right: 12px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    background: none !important;
    border: none !important;
    color: white !important;
    font-size: 18px !important;
    font-weight: bold !important;
    cursor: pointer !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    transition: background-color 0.2s ease !important;
    line-height: 1 !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 24px !important;
    height: 24px !important;
  }

  .storybook-banner-close:hover {
    background-color: rgba(255, 255, 255, 0.2) !important;
  }

  .storybook-banner-close:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5) !important;
    outline-offset: 2px !important;
  }

  :root {
    --blade-surface-action-icon: rgba(163, 175, 191, 1);
    --blade-surface-action-icon-active: rgba(93, 109, 134, 1);
    --blade-surface-text-normal: rgba(19, 38, 68, 1);
    --blade-brand-gray: rgba(121, 135, 156, 0.18);
    --blade-brand-gray-light: rgba(121, 135, 156, 0.08);
    --blade-border-color: #efefef;
  }

  .search-field input {
    border-radius: 4px !important;
  }

  .sidebar-subheading,
  .sidebar-subheading svg {
    color: rgba(19, 38, 68, 1) !important;
    font-weight: bold !important;
    text-transform: none !important;
    letter-spacing: normal !important;
    font-size: 12px !important;
  }

  .sidebar-item:hover {
    background: var(--blade-brand-gray-light) !important;
  }

  .sidebar-item svg {
    color: var(--blade-surface-action-icon) !important;
  }

  .sidebar-item[data-selected='true'] {
    background: var(--blade-brand-gray) !important;
    color: var(--blade-surface-text-normal) !important;
    font-weight: bold !important;
  }

  .sidebar-item[data-selected='true'] + a[href] {
    opacity: 0 !important;
  }

  .sidebar-item[data-selected='true'] + a[href]:focus {
    opacity: 1 !important;
  }

  .sidebar-item[data-selected='true'] svg {
    color: var(--blade-surface-action-icon-active) !important;
  }

  .sto-1va4tas {
    box-shadow: none !important;
  }

  .sto-rmwe9s {
    box-shadow: none !important;
    border-bottom: 1px solid var(--blade-border-color) !important;
  }
</style>

<script>
  // Add banner dynamically after page load
  document.addEventListener('DOMContentLoaded', function () {
    // Remove existing banner if any
    const existingBanner = document.querySelector('.storybook-banner');
    if (existingBanner) {
      existingBanner.remove();
    }

    // Create and add banner
    const banner = document.createElement('div');
    banner.className = 'storybook-banner';
    banner.innerHTML = `
      <div>
     <span>ðŸ¤– Stop browsing, start building. Install the Blade MCP. <a href="cursor://anysphere.cursor-deeplink/mcp/install?name=blade-mcp&config=eyJjb21tYW5kIjoibnB4IC15IEByYXpvcnBheS9ibGFkZS1tY3BAbGF0ZXN0In0%3D" target="_blank"> Install Now.</a></span>
      </div>
      <button class="storybook-banner-close" aria-label="Close banner" title="Close banner">Ã—</button>
    `;

    document
      .querySelectorAll('#root, .sb-show-main, .sidebar-container, .toolbar-container')
      .forEach((el) => {
        console.log(el);
        console.log(el.style);
        if (el) el.style.marginTop = '40px !important';
      });

    // Add close functionality
    const closeButton = banner.querySelector('.storybook-banner-close');
    closeButton.addEventListener('click', function () {
      banner.remove();
      // Remove margin from Storybook containers when banner is closed
      document
        .querySelectorAll('#root, .sb-show-main, .sidebar-container, .toolbar-container')
        .forEach((el) => {
          console.log(el.style);
          if (el) el.style.marginTop = '0px !important';
        });
    });

    document.body.insertBefore(banner, document.body.firstChild);
  });
</script>
